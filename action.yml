---
name: Setup Environment
author: CISA Development Team
branding:
  icon: globe
  color: purple
description: Setup a shared GitHub Actions workflow environment.
outputs:
  go-junit-report-version:
    description: The version of jstemmer/go-junit-report to use.
    value: ${{ steps.go-junit-report.outputs.version }}
  go-mock-version:
    description: The version of golang/mock to use.
    value: ${{ steps.go-mock.outputs.version }}
  packer-version:
    description: The version of Packer to use.
    value: ${{ steps.packer.outputs.version }}
  shfmt-version:
    description: The version of shfmt to use.
    value: ${{ steps.shfmt.outputs.version }}
  terraform-version:
    description: The version of Terraform to use.
    value: ${{ steps.terraform.outputs.version }}
  terraform-docs-version:
    description: The version of terraform-docs to use.
    value: ${{ steps.terraform-docs.outputs.version }}

runs:
  using: "composite"
  steps:
    - id: go-junit-report
      run: echo "version=2.0.0" >> $GITHUB_OUTPUT
      shell: bash
    - id: go-mock
      run: echo "version=1.6.0>> $GITHUB_OUTPUT
      shell: bash
    - id: packer
      run: echo "version=1.8.2" >> $GITHUB_OUTPUT
      shell: bash
    - id: shfmt
      run: echo "version=v3.5.1" >> $GITHUB_OUTPUT
      shell: bash
    - id: terraform
      run: echo "version=1.2.3" >> $GITHUB_OUTPUT
      shell: bash
    - id: terraform-docs
      run: echo "version=v0.16.0" >> $GITHUB_OUTPUT
      shell: bash
